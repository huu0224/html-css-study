<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>FE Immersive Stack</title>
    <style>
        :root { --bg: #0a0a0a; --card-bg: #161616; }
        body { margin: 0; background: var(--bg); color: white; font-family: 'Pretendard', sans-serif; }

        /* 스크롤 길이를 제어하기 위한 빈 공간 */
        .scroll-space { height: 600vh; }

        /* 화면에 고정된 뷰포트 */
        .container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100vh;
            display: flex; justify-content: center; align-items: center;
            perspective: 1500px; overflow: hidden;
        }

        .stack {
            position: relative; width: 500px; height: 350px;
            transform-style: preserve-3d;
        }

        .card {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: var(--card-bg); border: 1px solid rgba(255,255,255,0.1);
            border-radius: 24px; padding: 40px; box-sizing: border-box;
            display: flex; flex-direction: column; justify-content: center;
            backface-visibility: hidden; transition: transform 0.1s ease-out, opacity 0.1s ease-out;
        }

        .card h2 { font-size: 2.5rem; margin: 0; color: #3b82f6; }
        .card p { color: #888; line-height: 1.6; margin-top: 20px; }
    </style>
</head>
<body>

<div class="scroll-space"></div>

<div class="container">
    <div class="stack" id="stack">
        <div class="card" data-index="0"><h2>01 VISION</h2><p>보이지 않는 사용자 가치를 코드로 시각화합니다.</p></div>
        <div class="card" data-index="1"><h2>02 LOGIC</h2><p>복잡한 비즈니스 로직을 부드러운 인터랙션으로 풀어냅니다.</p></div>
        <div class="card" data-index="2"><h2>03 SPEED</h2><p>GPU 가속을 통한 60FPS의 쾌적한 사용자 경험을 보장합니다.</p></div>
        <div class="card" data-index="3"><h2>04 FUTURE</h2><p>웹 기술의 한계를 넘어서는 도전을 멈추지 않습니다.</p></div>
    </div>
</div>

<script>
    const cards = document.querySelectorAll('.card');
    const totalCards = cards.length;

    window.addEventListener('scroll', () => {
        const scrolled = window.scrollY;
        const viewportHeight = window.innerHeight;
        
        cards.forEach((card, i) => {
            const index = parseInt(card.dataset.index);
            // 각 카드마다 스크롤 시작 지점을 다르게 설정
            const start = index * viewportHeight;
            const progress = (scrolled - start) / viewportHeight;

            if (progress < 0) {
                // 아직 스크롤되지 않은 카드
                card.style.transform = `translateZ(${-index * 100}px) scale(${1 - index * 0.05})`;
                card.style.opacity = 1 - (index * 0.2);
            } else if (progress >= 0 && progress <= 1) {
                // 현재 지나가는 카드 (앞으로 튀어나오며 사라짐)
                const z = progress * 1000;
                const opacity = 1 - progress;
                const scale = 1 + progress;
                card.style.transform = `translateZ(${z}px) scale(${scale})`;
                card.style.opacity = opacity;
            } else {
                // 이미 지나간 카드
                card.style.opacity = 0;
            }
        });
    });
</script>

</body>
</html>